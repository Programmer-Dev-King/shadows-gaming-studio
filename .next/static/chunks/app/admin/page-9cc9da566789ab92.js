(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{2419:function(e,s,a){Promise.resolve().then(a.bind(a,9725))},9725:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return r}});var t=a(7437),i=a(2265),l=a(5934),n=a(429),o=a(9376);function r(){let{data:e,status:s}=(0,l.kP)(),[a,r]=(0,i.useState)([]),[c,d]=(0,i.useState)([]),[m,h]=(0,i.useState)([]),[p,g]=(0,i.useState)("games"),[x,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{var a;"loading"!==s&&(e&&(null===(a=e.user)||void 0===a?void 0:a.role)==="admin"||(0,o.redirect)("/dashboard"),b())},[e,s]);let b=async()=>{u(!0);try{let[e,s,a]=await Promise.all([fetch("/api/games"),fetch("/api/team"),fetch("/api/messages")]);e.ok&&r(await e.json()),s.ok&&d(await s.json()),a.ok&&h(await a.json())}catch(e){console.error("Failed to fetch data:",e)}finally{u(!1)}},y=async()=>{let e=prompt("Game Title:"),s=prompt("Description:"),a=prompt("Engine (Unreal/Unity/Custom):");if(e&&s&&a)try{(await fetch("/api/games",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e,description:s,engineType:a})})).ok&&(b(),alert("Game added successfully!"))}catch(e){alert("Failed to add game")}},j=async()=>{let e=prompt("Welcome Message:");if(e)try{(await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})})).ok&&(b(),alert("Message added successfully! "))}catch(e){alert("Failed to add message")}},f=async e=>{if(confirm("Delete this message?"))try{(await fetch("/api/messages",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})})).ok&&(b(),alert("Message deleted successfully!"))}catch(e){alert("Failed to delete message")}};return"loading"===s?(0,t.jsx)("div",{className:"text-center py-20",children:"Loading..."}):(0,t.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-shadow-black via-abyss-blue to-shadow-black py-20 px-4",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,t.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[(0,t.jsx)("h1",{className:"anime-text text-6xl glow-blue text-center mb-12",children:"ADMIN PANEL"}),(0,t.jsx)("div",{className:"flex gap-4 mb-12 justify-center flex-wrap",children:["games","team","messages"].map(e=>(0,t.jsx)("button",{onClick:()=>g(e),className:"px-6 py-3 rounded font-bold transition-all ".concat(p===e?"bg-jin-woo-blue text-white shadow-lg":"bg-abyss-blue border border-jin-woo-blue text-jin-woo-blue hover:bg-jin-woo-blue/20"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),"games"===p&&(0,t.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("button",{onClick:y,className:"px-6 py-3 bg-chakra-orange text-white rounded font-bold hover:shadow-lg",children:"+ Add Game"})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map(e=>(0,t.jsxs)(n.E.div,{className:"glass rounded-lg p-6 border-2 border-jin-woo-blue",whileHover:{scale:1.05},children:[(0,t.jsx)("h3",{className:"text-2xl font-bold text-jin-woo-blue mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-silver-white mb-3",children:e.description}),(0,t.jsxs)("p",{className:"text-icy-blue text-sm",children:["Engine: ",e.engineType||"N/A"]}),(0,t.jsxs)("p",{className:"text-neon-cyan text-sm mt-2",children:["Status: ",e.status]})]},e.id))})]}),"team"===p&&(0,t.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:c.map(e=>(0,t.jsxs)(n.E.div,{className:"glass rounded-lg p-6 border-2",style:{borderColor:e.summoningColor},whileHover:{scale:1.05},children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-2",style:{color:e.summoningColor},children:e.name}),(0,t.jsx)("p",{className:"text-silver-white",children:e.role})]},e.id))})}),"messages"===p&&(0,t.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("button",{onClick:j,className:"px-6 py-3 bg-crystal-green text-shadow-black rounded font-bold hover:shadow-lg",children:"+ Add Message"})}),(0,t.jsx)("div",{className:"space-y-4",children:m.map((e,s)=>(0,t.jsxs)(n.E.div,{className:"glass rounded-lg p-4 border border-crystal-green flex justify-between items-center",whileHover:{x:10},children:[(0,t.jsx)("p",{className:"text-silver-white",children:"string"==typeof e?e:e.message}),(0,t.jsx)("button",{onClick:()=>f("string"==typeof e?e:e.message),className:"px-4 py-2 bg-cursed-purple text-white rounded hover:bg-cursed-purple/80",children:"Delete"})]},s))})]}),x&&(0,t.jsx)("p",{className:"text-center text-silver-white mt-8",children:"Loading..."})]})})})}}},function(e){e.O(0,[429,251,971,117,744],function(){return e(e.s=2419)}),_N_E=e.O()}]);