(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{4759:function(e,t,n){Promise.resolve().then(n.bind(n,4072)),Promise.resolve().then(n.bind(n,8703)),Promise.resolve().then(n.t.bind(n,6050,23)),Promise.resolve().then(n.t.bind(n,2629,23)),Promise.resolve().then(n.t.bind(n,6043,23)),Promise.resolve().then(n.t.bind(n,7977,23))},4072:function(e,t,n){"use strict";n.d(t,{Providers:function(){return p}});var i=n(7437),a=n(2265),s=n(2249);class o{async loadSound(e,t){if(this.audioContext)try{let n=await fetch(t),i=await n.arrayBuffer(),a=await this.audioContext.decodeAudioData(i);this.audioFiles.set(e,a)}catch(t){console.warn("Failed to load sound: ".concat(e))}}playSound(e){if(!this.isEnabled||!this.audioContext)return;let t=this.audioFiles.get(e);if(!t){console.warn("Sound not found: ".concat(e));return}try{let e=this.audioContext.createBufferSource();e.buffer=t,e.connect(this.audioContext.destination),e.start(0)}catch(t){console.error("Failed to play sound: ".concat(e),t)}}setEnabled(e){this.isEnabled=e}isAudioEnabled(){return this.isEnabled}constructor(){(0,s._)(this,"audioContext",null),(0,s._)(this,"audioFiles",new Map),(0,s._)(this,"isEnabled",!0),this.audioContext=new(window.AudioContext||window.webkitAudioContext)}}var r=new o;let u={gate:{phase:"gate",duration:2e3,delay:0,particles:!0,sound:!0,skipable:!1},portal:{phase:"portal",duration:1600,delay:0,particles:!0,sound:!0,skipable:!1},summoning:{phase:"summoning",duration:2200,delay:0,particles:!0,sound:!0,skipable:!1},transition:{phase:"transition",duration:1200,delay:0,particles:!0,sound:!0,skipable:!0},idle:{phase:"idle",duration:0,delay:0,particles:!1,sound:!1,skipable:!1}};class l{playSequence(e,t){let n=u[e];n&&(this.currentPhase=e,this.isPlaying=!0,n.sound&&this.playSoundForPhase(e),setTimeout(()=>{this.isPlaying=!1,null==t||t()},n.duration+n.delay))}playSoundForPhase(e){switch(e){case"gate":r.playSound("gate-opening");break;case"portal":r.playSound("portal-enter");break;case"summoning":r.playSound("summoning-jutsu");break;case"transition":r.playSound("page-transition")}}getCurrentPhase(){return this.currentPhase}isAnimationPlaying(){return this.isPlaying}skipAnimation(){this.isPlaying=!1}constructor(){(0,s._)(this,"currentPhase","idle"),(0,s._)(this,"isPlaying",!1)}}new l;let d=(0,a.createContext)(void 0);function c(e){let{children:t}=e,[n]=(0,a.useState)(()=>new l),[s,o]=(0,a.useState)("idle"),[r,u]=(0,a.useState)(!1),c=(0,a.useCallback)(e=>new Promise(t=>{o(e),n.playSequence(e,()=>{o("idle"),t()})}),[n]);return(0,i.jsx)(d.Provider,{value:{controller:n,playAnimation:c,currentPhase:s,gateOpened:r,setGateOpened:u},children:t})}var h=n(5934);function p(e){let{children:t}=e;return(0,i.jsx)(h.eA,{children:(0,i.jsx)(c,{children:t})})}},2629:function(){},6050:function(){},7977:function(){},6043:function(){}},function(e){e.O(0,[996,429,251,648,486,971,117,744],function(){return e(e.s=4759)}),_N_E=e.O()}]);