"use strict";(()=>{var e={};e.id=654,e.ids=[654],e.modules={7096:e=>{e.exports=require("bcrypt")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},731:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>w,patchFetch:()=>x,requestAsyncStorage:()=>g,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h});var s={};t.r(s),t.d(s,{POST:()=>l});var a=t(9303),i=t(8716),n=t(670),u=t(7070),o=t(3493),p=t(7096),d=t.n(p);async function l(e){try{let{name:r,email:t,password:s}=await e.json();if(!r||!t||!s)return u.NextResponse.json({error:"Missing required fields"},{status:400});if(s.length<6)return u.NextResponse.json({error:"Password must be at least 6 characters"},{status:400});if(await o._.user.findUnique({where:{email:t}}))return u.NextResponse.json({error:"Email already registered"},{status:409});let a=await d().hash(s,10),i=await o._.user.create({data:{name:r,email:t,password:a,role:"USER"}});return await o._.log.create({data:{userId:i.id,action:"USER_SIGNUP",details:`New user registered: ${t}`}}),u.NextResponse.json({message:"User created successfully",user:{id:i.id,email:i.email,name:i.name}},{status:201})}catch(e){return console.error("Signup error:",e),u.NextResponse.json({error:"An error occurred during signup"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/signup/route",pathname:"/api/auth/signup",filename:"route",bundlePath:"app/api/auth/signup/route"},resolvedPagePath:"/home/runner/work/shadows-gaming-studio/shadows-gaming-studio/app/api/auth/signup/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:g,staticGenerationAsyncStorage:h,serverHooks:m}=c,w="/api/auth/signup/route";function x(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}},3493:(e,r,t)=>{t.d(r,{_:()=>a});let s=require("@prisma/client"),a=globalThis.prisma||new s.PrismaClient({log:["query"]})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,972],()=>t(731));module.exports=s})();